BufferedImage bi = new BufferedImage(200, 200, BufferedImage.TYPE_INT_ARGB);
    Graphics g = bi.getGraphics();
    g.fillRect(0, 0, bi.getWidth(), bi.getHeight());
    g.setColor(Color.red);
    g.translate(50, 50);
    g.drawLine(0, 0, 100, 0);
    g.drawLine(100, 0, 100, 100);
    g.drawLine(100, 100, 0, 100);
    g.drawLine(0, 100, 0, 0);
    JOptionPane.showMessageDialog(null, new ImageIcon(bi));