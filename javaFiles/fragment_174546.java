if(!YourActivity.this.isFinishing()){
   //show dialog on error
}
else{
   //launch a new activity which should take care of error msg dialog
}