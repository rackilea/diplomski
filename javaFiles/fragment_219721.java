// removed if(camera!=null) 
camera = Camera.open();

// checking "camera" is not null
if (camera != null) { // using curly brackets, comes very handy sometimes :D
    // ... the rest of the code
}