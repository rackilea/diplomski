long maxduration = 10000; // 10 seconds.
long endtime = System.currentTimeMillis() + maxduration;

while (System.currentTimeMillis() < endtime) {
    // ...
}