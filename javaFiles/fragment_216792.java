double hx = bb.width / 2d; //provide double precision everywhere!
double hy = bb.height / 2d;

...
hx /= 2d; hy /= 2d; //provide double precision everywhere!
half.translate(-hx / 2d, -hy / 2d);
...

double circle = 4d;
double distance = 2d;