@Override
public Dimension getPreferredSize() {
    // I've not been through your code in detail
    // so I've not calculated what the actual
    // preferred size might be and this is just an
    // example you'll have to update
    return new Dimension(200, 200);
}