for(int i = 0; i<shapes.size();i++){
      Object obj = shapes.get(i);
      if(objinstanceof ShapeRectangle){
         ((ShapeRectangle)obj).fillRect(....);
      }
      else if(list.get(i)
    }