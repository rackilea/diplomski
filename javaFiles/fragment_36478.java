int hasId = in.readInt();

if (hasId == 1) {
    id = in.readInt();
}
else {
    id = null;
}