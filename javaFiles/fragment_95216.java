for(int i=1; i<n; i*=2)

n   i's        total   log2(n)
1   []            0     ---
2   [1]           1     1
3   [1,2]         2     1.58
4   [1,2]         2     2
5   [1,2,4]       3     2.32
6   [1,2,4]       3     2.58
7   [1,2,4]       3     2.81
8   [1,2,4]       3     3
9   [1,2,4,8]     4     3.17
10  [1,2,4,8]     4     3.32
11  [1,2,4,8]     4     3.46
12  [1,2,4,8]     4     3.58
13  [1,2,4,8]     4     3.70
14  [1,2,4,8]     4     3.81
15  [1,2,4,8]     4     3.91
16  [1,2,4,8]     4     4
17  [1,2,4,8,16]  5     4.09