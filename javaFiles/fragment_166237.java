Runtime.getRuntime().addShutdownHook(new Thread(){
    public void run(){

       //CLOSE SESSION FACTORY HERE
     }
});