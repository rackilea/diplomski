//etc.//
byte[] encryptedCredentials = null;
byte[] byteSharedKey = null;

try {
    byteCredentials = getBytesFromObject(credentials);
    //Whoops!  credentials is already a byte array.
//etc.//
catch (and eat) exception.....
return encryptedCredentials;