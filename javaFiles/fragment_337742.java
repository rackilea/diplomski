lock.lock();
try { 
  // previous code
} finally {
  lock.unlock();
}