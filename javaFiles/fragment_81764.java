if (obj instanceof C) {
   ((C)obj).Foo();
}
else {
   // Recover somehow...
}