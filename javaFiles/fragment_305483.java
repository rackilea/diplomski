//if (orig.toString().endsWith(
 //          System.getProperty("line.separator"))) {
 //  writer.append(builder.substring(1));
 //} else {
 //  writer.append(builder);
 //} 

 // just use this:
 writer.append(builder);