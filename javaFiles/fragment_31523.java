int index = 0;
boolean flag = true;
while (still have what to do)
{
   for <complicated logic>
   if (flag)
   {
      arr[index] = 1;
      index++;
   }
   flag = true;
}