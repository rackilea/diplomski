int work = num;
while (work > 0) {
    int bit = work & 1;
    work >>= 1;
    // Todo: count consecutive 1s
}