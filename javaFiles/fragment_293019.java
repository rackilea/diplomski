public class LoginAction  implements ServletRequestAware
{
   HttpServletRequest request;
   public void setServletRequest(HttpServletRequest arg0) 
   {
      this.request = arg0;      
   }

   //rest of the above updated code here
}