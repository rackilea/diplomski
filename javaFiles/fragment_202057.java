...
HttpServletResponse response;
...

response.setStatus(HttpServletResponse.SC_BAD_GATEWAY);
response.flushBuffer();