@Component
public class PermissionFactory {
    public Permission createFactory() {
        // create A or B permission randomly, as you wanted
    }
}