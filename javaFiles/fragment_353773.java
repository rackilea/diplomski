public static void login() throws Exception {

        if(loggedIn){
            //do nothing, user already logged in
            return;
        }
//...rest of code ...