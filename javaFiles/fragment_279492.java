while(true) {
    int oneByte = dis.read();
    if(oneByte == -1 || oneByte == '|') {
        break;
    }
}