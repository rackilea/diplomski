if(pref.getBoolean("firststart", true)){
    // do all your stuff
} else {
    setContentView(R.layout.activity_map);
    // do anything else that should run if not first start
}