int numError = 0;
int maxError = a_number; 
boolean finished = false; 
while(!finished && numError < maxError){
    do_all_the_things_you_are_doing_now;

    if(ch is not exist in answer)
        numError++;

    else{
        if(there is no "_" in answer)
             finished = true;
    }
}