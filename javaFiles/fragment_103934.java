while (!g.gameEnded()){
  Action arc = p.getAction(g);

  // ....

}