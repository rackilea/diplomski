if (updating) {
    return;
}
try {
   updating=true;

   // do stuff

} finally {
   updating=false;
}