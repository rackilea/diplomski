try {
  // get connection

  // do stuff in threads
}
catch {
  // handle
}
finally {
  con.close();
}