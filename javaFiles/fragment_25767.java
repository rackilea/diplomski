canvas.addListener(SWT.Paint, new Listener() {
    @Override
    public void handleEvent(Event event)
    {
        // paint background

        if(drag)
        {
            // paint foreground
        }
    }
});