// wrong
if (filesNode.isObject()) {
    ...
}

// correct
if (filesNode.isArray()) {
    ...
}