line = reader.readLine();
if (line != null) {
    fragmentShaderSource.append(line).append('\n');
}

while (line != null) {
    // ...
}