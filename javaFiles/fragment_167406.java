if (needle == null || haystack == null || haystack.isEmpty())
    return false;

if (needle.isEmpty())
    return true;

// compare strings here and return result.