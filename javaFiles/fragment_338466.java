ArrayList<String> lines = new ArrayList<String>();

//start reader, go over each line

while (line != null) {
    String newLine = //make changes to line
    lines.add(newLine);
}

//close reader
//start writer
//write each line to file