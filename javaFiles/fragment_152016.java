public MyDetailsService implements UserDetailsService {

  @Autowired
  private HttpServletRequest request;

  //...

}